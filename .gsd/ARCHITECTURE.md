# Architecture

> Auto-generated by /map on 2026-02-17

## Overview

GSAP-Sphere is an immersive 3D portfolio application built with React, Three.js (React Three Fiber), and GSAP. It features a spherical 3D navigation system and standard content pages managed via Sanity CMS.

```
┌─────────────────────────────────────────┐
│              [Entry Point]              │
│          src/main.jsx -> App.jsx        │
├─────────────────────────────────────────┤
│         [Business Logic Layer]          │
│      React Components, Hooks, Router    │
│      (Pages, UI, 3D Scene)              │
├─────────────────────────────────────────┤
│            [Data Layer]                 │
│      Sanity Client (Content)            │
│      EmailJS (Contact Form)             │
│      TransitionContext (State)          │
└─────────────────────────────────────────┘
```

## Components

### Core
- **App:** `src/App.jsx` - Main application component, handles routing and global providers.
- **MainLayout:** `src/layouts/MainLayout.jsx` - Main layout wrapper (likely Navbar + Content).

### Pages
- **Home:** `src/pages/Home.jsx` - Landing page with 3D Sphere.
- **About:** `src/pages/About.jsx` - About me section.
- **Offer:** `src/pages/Offer.jsx` - Services offer.
- **CaseStudies:** `src/pages/CaseStudies.jsx` - Projects portfolio (fetches from Sanity).
- **Contact:** `src/pages/Contact.jsx` - Contact form/page.

### CMS Components
- **ProjectList:** `src/components/CMS/ProjectList.jsx` - Fetches and displays project list from Sanity.
- **ProjectCard:** `src/components/CMS/ProjectCard.jsx` - Display card for a single project.

### UI Components
- **Navbar:** `src/components/UI/Navbar.jsx` - Navigation bar.
- **GlitchOverlay:** `src/components/UI/GlitchOverlay.jsx` - visual effect overlay.
- **TransitionLink:** `src/components/UI/TransitionLink.jsx` - Custom link for page transitions.
- **ContactModal:** `src/components/UI/ContactModal.jsx` - Modal for contact form.

### 3D / Scene
- **Scene:** `src/components/Scene.jsx` - Main 3D scene container.
- **Sphere:** `src/components/Sphere/` - Components related to the 3D sphere navigation.

### Utilities
- **Sanity Client:** `src/sanityClient.js` - Configuration for Sanity CMS connection.
- **TransitionContext:** `src/utils/TransitionContext.jsx` - Global state for page transitions.
- **Email:** `src/utils/email.js` - EmailJS configuration.

## Data Flow

1. **Routing:** `App.jsx` defines routes using `react-router-dom`.
2. **State Management:** `TransitionContext` manages navigation state and animations.
3. **Content Fetching:**
   - `ProjectList` calls `client.fetch(query)` using `src/sanityClient.js`.
   - Data is stored in local component state (`projects`).
4. **User Input:**
   - Contact forms use `email.js` to send data via EmailJS.

## Integration Points

| Service | Type | Purpose |
|---------|------|---------|
| Sanity IO | CMS | Headless CMS for managing project content (Case Studies). |
| EmailJS | API | Sending emails from the contact form without a backend. |

## Technical Debt

- [ ] Inline styles used in `ProjectList.jsx` for loading/error states.
- [ ] No strict type checking (JavaScript only).
- [ ] Error handling in `ProjectList` is basic (console.error).
- [ ] `Contact` page logic might be duplicated with `ContactModal`.

## Conventions

**Naming:** PascalCase for components, camelCase for variables/functions.
**Structure:** Feature-based grouping (CMS, UI, Sphere) within `components/`.
**Styling:** CSS Modules (`*.module.css`) and global CSS (`App.css`, `index.css`).
**Animation:** GSAP used for transitions, React Three Fiber for 3D.
