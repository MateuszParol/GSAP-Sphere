---
phase: 3
plan: 3.2
wave: 2
---

# Plan 3.2: Interaction & Navigation Logic

## Objective
Implement logic where clicking a point "focuses" on it (stops rotation or centers it) and opens an overlay/modal with content or navigates to a link.

## Context
- SPEC Goal 2: Clickable points.
- SPEC Goal 3: Contact Form (Phase 4, but structure needed here).
- src/components/Navigation/PointMarker.jsx

## Tasks

<task type="auto">
  <name>Define Interaction State</name>
  <files>src/store/useAppStore.js (or simple React State in App)</files>
  <action>
    1. Need a state to track `activePoint` (null | pointId).
    2. Simple `useState` in `App.jsx` + Context/Props drilling, OR Zustand store if complex.
    3. *Decision*: Keep it simple for now. Lift state to `Scene.jsx` or `App.jsx`.
    4. Pass `onPointClick` handler to markers.
  </action>
  <verify>Check state updates.</verify>
  <done>State managed.</done>
</task>

<task type="auto">
  <name>Implement Focus Animation</name>
  <files>src/components/Scene.jsx, src/components/CameraController.jsx</files>
  <action>
    1. When a point is clicked:
       - Disable `autoRotate` on `OrbitControls`.
       - Use GSAP or `useFrame` to animate camera (or rotate sphere) so the point is centered.
       - Simplify: Just stop rotation for now? Better: Rotate sphere `group.rotation` to bring point to front (Z axis).
    2. Create `src/components/Interaction/FocusManager.jsx` (optional) to handle this logic.
  </action>
  <verify>Manual Test: Click point -> Movement stops or point centers.</verify>
  <done>Focus logic active.</done>
</task>

<task type="auto">
  <name>Create Content Overlay</name>
  <files>src/components/UI/Overlay.jsx</files>
  <action>
    1. Create `src/components/UI/Overlay.jsx`.
    2. Render HTML overlay (absolute position on top of Canvas) when `activePoint` is set.
    3. Display: Title, Description, Link/Button.
    4. Styling: Cyber/Glassmorphism.
    5. Close button to clear `activePoint` and resume auto-rotation.
  </action>
  <verify>Visual Test: Click point -> Overlay appears -> Close -> Disappears.</verify>
  <done>Overlay UI created.</done>
</task>

## Success Criteria
- [ ] Clicking a marker triggers state change.
- [ ] Sphere rotation stops or adjusts on click.
- [ ] Overlay appears with correct content for the clicked point.
